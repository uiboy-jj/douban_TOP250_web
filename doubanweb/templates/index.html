<!doctype html>
<html>

<head>
    <!doctype html>
    <html>

    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <title>豆瓣电影Top250</title>
        <link type="text/css" href="../static/css/public.css" rel="stylesheet">
        <link type="text/css" href="../static/css/index.css" rel="stylesheet">
        <script type="text/javascript">
            document.documentElement.style.fontSize = document.documentElement.clientWidth / 768 * 100 + 'px';
        </script>

        <script src="../static/js/echarts-4.2.1.min.js"></script>
    </head>
    <style>
        .abc {}
    </style>

    <body>
        <div class="bg">
            <div class="title">豆瓣电影Top250</div>
            <div class="leftMain">
                <div class="leftMain_top">
                    <div class="leftMain_topIn">
                        <ul>
                            <li>
                                <div class="liIn">
                                    <h3>平均热度</h3>
                                    <p class="shu"><span class="shu1">{{ avg_num }}</span><i>人</i></p>
                                    <div class="zi"><span class="span1">最高热度：</span><span>{{ max_num }}</span></div>
                                    <span class="border_bg_leftTop"></span>
                                    <span class="border_bg_rightTop"></span>
                                    <span class="border_bg_leftBottom"></span>
                                    <span class="border_bg_rightBottom"></span>
                                </div>
                            </li>
                            <li>
                                <div class="liIn">
                                    <h3>平均评分</h3>
                                    <p class="shu"><span class="shu2">{{ score_avg_num }}</span><i>分</i></p>
                                    <div class="zi"><span class="span1">最高评分：</span><span>{{ score_max_num }}</span></div>
                                    <span class="border_bg_leftTop"></span>
                                    <span class="border_bg_rightTop"></span>
                                    <span class="border_bg_leftBottom"></span>
                                    <span class="border_bg_rightBottom"></span>
                                </div>
                            </li>
                            <li>
                                <div class="liIn">
                                    <h3>类型最多</h3>
                                    <p class="shu"><span class="shu2">{{ max_key }}</span><i>{{ max_value }}</i></p>
                                    <div class="zi"><span class="span1">类型最少：{{ min_key }}</span><span>{{ min_value }}</span></div>
                                    <span class="border_bg_leftTop"></span>
                                    <span class="border_bg_rightTop"></span>
                                    <span class="border_bg_leftBottom"></span>
                                    <span class="border_bg_rightBottom"></span>
                                </div>
                            </li>
                            <li>
                                <div class="liIn">
                                    <h3>作品最多导演</h3>
                                    <p class="shu"><span class="shu4">{{ director_max_key }}</span><i>{{ director_max_value }}</i></p>
                                    <div class="zi"></div>
                                    <span class="border_bg_leftTop"></span>
                                    <span class="border_bg_rightTop"></span>
                                    <span class="border_bg_leftBottom"></span>
                                    <span class="border_bg_rightBottom"></span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="leftMain_middle"    >


                            <h3>前十名作品热度</h3>
                            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                            <div class="biaoge" style="width:100%; height:60vh" id="chartmain"></div>

                            <script type="text/javascript">
                                //window.onload = function () {
                                //指定图表的配置项和数据

                                var dataAxis =['肖申克的救赎', '霸王别姬', '阿甘正传', '这个杀手不太冷', '泰坦尼克号', '美丽人生', '千与千寻', '辛德勒的名单', '盗梦空间', '忠犬八公的故事'];
                                var data = [2442350, 1815823, 1836402, 2001828, 1798134, 1125363, 1916878, 937223, 1765781, 1214354];

                                var yMax = 500;
                                var dataShadow = [];

                                for (var i = 0; i < data.length; i++) {
                                    dataShadow.push(yMax);
                                }

                                option = {
                                    title: {
                                        text: '',
                                        subtext: ''
                                    },
                                    grid: {
                                        x: 120,
                                        y: 40,
                                        x2: 40,
                                        y2: 40,

                                    },
                                    xAxis: {
                                        data: dataAxis,
                                        axisLabel: {
                                            /*inside: true,*/
                                            interval: 0,
                                            textStyle: {
                                                color: '#fff',
                                                fontSize: 34

                                            }
                                        },
                                        axisTick: {
                                            show: false,
                                        },
                                        axisLine: {
                                            show: true,
                                            symbol: ['none', 'arrow'],
                                            symbolOffset: 12,
                                            lineStyle: {
                                                color: '#fff',
                                            }
                                        },
                                        z: 10
                                    },
                                    yAxis: {
                                        type: 'value',
                                        name: '单位：人',
                                        axisLine: {
                                            show: true,
                                            symbol: ['none', 'arrow'],
                                            symbolOffset: 12,
                                            lineStyle: {
                                                color: '#fff',
                                            }
                                        },
                                        axisTick: {
                                            show: false
                                        },
                                        axisLabel: {
                                            textStyle: {
                                                color: '#fff',
                                                fontSize: 18
                                            }
                                        }
                                    },

                                    dataZoom: [{
                                        type: 'inside'
                                    }],
                                    series: [{ // For shadow
                                        type: 'bar',
                                        itemStyle: {
                                            color: 'rgba(0,0,0,0.05)'
                                        },
                                        barGap: '-100%',
                                        barCategoryGap: '40%',
                                        data: 2442350,
                                        animation: false
                                    }, {
                                        type: 'bar',
                                        itemStyle: {
                                            color: new echarts.graphic.LinearGradient(
                                                0, 0, 0, 1, [{
                                                    offset: 0,
                                                    color: '#0efdff'
                                                }, {
                                                    offset: 0.5,
                                                    color: '#188df0'
                                                }, {
                                                    offset: 1,
                                                    color: '#188df0'
                                                }]
                                            )
                                        },
                                        emphasis: {
                                            itemStyle: {
                                                color: new echarts.graphic.LinearGradient(
                                                    0, 0, 0, 1, [{
                                                        offset: 0,
                                                        color: '#2378f7'
                                                    }, {
                                                        offset: 0.7,
                                                        color: '#2378f7'
                                                    }, {
                                                        offset: 1,
                                                        color: '#0efdff'
                                                    }]
                                                )
                                            }
                                        },
                                        data: data
                                    }]
                                };

                                // Enable data zoom when user click bar.
                                /*var zoomSize = 6;
                                myChart.on('click', function (params) {
                                	console.log(dataAxis[Math.max(params.dataIndex - zoomSize / 2, 0)]);
                                	myChart.dispatchAction({
                                		type: 'dataZoom',
                                		startValue: dataAxis[Math.max(params.dataIndex - zoomSize / 2, 0)],
                                		endValue: dataAxis[Math.min(params.dataIndex + zoomSize / 2, data.length - 1)]
                                	});
                                });*/

                                //获取dom容器
                                var myChart = echarts.init(document.getElementById('chartmain'));
                                // 使用刚指定的配置项和数据显示图表。
                                myChart.setOption(option);
                                //};
                            </script>
                            <span class="border_bg_leftTop"></span>
                            <span class="border_bg_rightTop"></span>
                            <span class="border_bg_leftBottom"></span>
                            <span class="border_bg_rightBottom"></span>


                </div>

            </div>
            <div class="rightMain">
                <div class="rightMain_top">
                    <div class="rightMain_topIn">
                        <h3>评分占比</h3>
                        <div class="biaoge" style="width:100%; height:30vh" id="chartmain_bing"></div>
                        <script type="text/javascript">
                            option = {
                                title: {
                                    text: '数据情况统计',
                                    subtext: '',
                                    left: 'right',
                                    textStyle: {
                                        color: '#fff',
                                        fontSize: 12
                                    }
                                },
                                tooltip: {
                                    trigger: 'item',
                                    formatter: '{a} <br/>{b} : {c} ({d}%)'
                                },
                                legend: {
                                    // orient: 'vertical',
                                    // top: 'middle',
                                    type: 'scroll',
                                    orient: 'vertical',
                                    right: 10,
                                    top: 40,
                                    bottom: 20,
                                    left: 'right',
                                    data: ['西凉', '益州', '兖州', '荆州', '幽州'],
                                    textStyle: {
                                        color: '#fff',
                                        fontSize: 12
                                    }

                                },
                                grid: {
                                    x: '-10%',
                                    y: 40,
                                    x2: 20,
                                    y2: 20,
                                },
                                color: ['#09d0fb', '#f88cfb', '#95f8fe', '#f9f390', '#ecfeb7'],
                                series: [{
                                    type: 'pie',
                                    radius: '65%',
                                    center: ['50%', '50%'],
                                    selectedMode: 'single',
                                    data: [{
                                        value: 1548,
                                        name: '幽州',

                                    }, {
                                        value: 535,
                                        name: '荆州'
                                    }, {
                                        value: 510,
                                        name: '兖州'
                                    }, {
                                        value: 634,
                                        name: '益州'
                                    }, {
                                        value: 735,
                                        name: '西凉'
                                    }],
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }]
                            };
                            //获取dom容器
                            var myChart = echarts.init(document.getElementById('chartmain_bing'));
                            // 使用刚指定的配置项和数据显示图表。
                            myChart.setOption(option);
                        </script>
                        <span class="border_bg_leftTop"></span>
                        <span class="border_bg_rightTop"></span>
                        <span class="border_bg_leftBottom"></span>
                        <span class="border_bg_rightBottom"></span>
                    </div>
                </div>
                <div class="rightMain_bottom">
                    <div class="rightMain_bottomIn">
                        <h3>这里是标题</h3>
                        <div class="biaoge biaoge_list" style="width:100%; height:36vh">
                            <div class="biaoge_listIn">
                                <ul class="ul_title">
                                    <li>名字</li>
                                    <li>排名</li>
                                    <li>评分</li>
                                    <li>热度</li>
                                    <li>123</li>
                                </ul>
                                <div class="ul_list">
                                    <div class="ul_listIn">
                                        {% for i in content_250_2 %}
                                        <ul class="ul_con">
                                            <li>{{ i.0 }}</li>
                                            <li>{{ i.1 }}</li>
                                            <li>{{ i.2 }}</li>
                                            <li>{{ i.3 }}</li>
                                            <li>123</li>
                                        </ul>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>

                        </div>
                        <span class="border_bg_leftTop"></span>
                        <span class="border_bg_rightTop"></span>
                        <span class="border_bg_leftBottom"></span>
                        <span class="border_bg_rightBottom"></span>
                    </div>
                </div>
            </div>
            <div style="clear:both;"></div>
        </div>
        <!--数字增长累加动画-->
        <script src="../static/js/jquery-1.10.2.js"></script>
        <script src="../static/js/jquery.numscroll.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript">
            $(".shu1").numScroll();
            $(".shu2").numScroll();
            $(".shu3").numScroll();
            $(".shu4").numScroll();
            $(".shu5").numScroll();
            $(".shu6").numScroll();

            /*$(".num2").numScroll({
            	time:5000
            });*/
        </script>

    </body>

    </html>